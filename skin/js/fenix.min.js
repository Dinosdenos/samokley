var FenixCheckout = {
    processCoupon: function(e) { return $.post("checkout/coupon", { coupon: e }, (function(e) { $("#orderTable").html(e) })), !1 },
    buyOneclickDialog: function(e) { return $("#buyOneclickDialog").dialog({ width: 420, modal: !0, open: function() { $("#buyOneclickDialog").find(".buy a").click((function() { var t = $("#buyOneclickDialog").find("input").val(); return "" == t ? alert("Введите номер телефона") : $.post("/checkout/process/oneclick", { pid: e, phone: t }, (function(e) { $("#buyOneclickContainer").html(e) })), !1 })) } }), !1 },
    addProduct: function(e) { return $.post(e, {}), $.ajax({ url: "/checkout/process", type: "POST", data: {} }), $.post("/checkout/process/sidebar", {}, (function(e) { $("#updatecart").html(e) })), this.updateCheckoutTotalBlock(), this.open(), !1 },
    removeProduct: function(e) { return $(".li_product_" + e).remove(), $(".tr_product_" + e).remove(), $.post("checkout/process/remove", { id: e }, (function() { $.post("/checkout/process/sidebar", {}, (function(e) { $("#updatecart").html(e) })) })), this.updateCheckoutTotalBlock(), this.updateCheckoutTotalQtyCart(), !1 },
    removeProductCart: function(e) { return $(".tr_product_" + e).remove(), $.post("checkout/process/remove", { id: e }, (function() { $.post("/checkout/process/sidebar", {}, (function(e) { $("#updatecart").html(e) })) })), this.updateCheckoutTotalBlock(), this.updateCheckoutTotalQtyCart(), !1 },
    plusQty: function(e, t, a) {
        var o = parseInt(e.val()),
            i = parseFloat(e.data("unitprice"));
        return o++, e.val(o), t.html(parseFloat(o * i)), this.updateCheckoutTotalQty(a, o * i), !1
    },
    minusQty: function(e, t, a) {
        var o = parseInt(e.val()),
            i = parseFloat(e.data("unitprice"));
        return 1 == o || (o--, e.val(o), t.html(parseFloat(o * i)), this.updateCheckoutTotalQty(a, o * i)), !1
    },
    plusQtyCart: function(e, t, a) {
        var o = parseInt(e.val()),
            i = parseFloat(e.data("unitprice"));
        return a = parseFloat(e.data("unitid")), o++, e.val(o), t.html(parseFloat(o * i)), this.updateCheckoutTotalQtyCart(i, a), !1
    },
    minusQtyCart: function(e, t, a) {
        var o = parseInt(e.val()),
            i = parseFloat(e.data("unitprice"));
        return a = parseFloat(e.data("unitid")), 1 == o || (o--, e.val(o), t.html(parseFloat(o * i)), this.updateCheckoutTotalQtyCart(i, a)), !1
    },
    updateCheckoutItemTotal: function(e, t, a) {
        var o = parseInt(e.data("unitprice")),
            i = parseFloat(e.val());
        t.html(parseFloat(i * o)), this.updateCartamount(a)
    },
    updateCheckoutItemTotalCart: function(e, t) {
        var a = parseInt(e.data("unitprice")),
            d = parseFloat(e.data("unitid"))
            o = parseFloat(e.val());
        t.html(parseFloat(o * a));
        $(".product_subtotal_" + d).html(parseFloat(o * a).toFixed(2));
    },
    updateCheckoutTotalQty: function(e, t) {
        var a = 0,
            o = 0,
            i = {};
        $("#offcanvas-cart").find(".checkout-item-qty").each((function(e) {
            var t, n = $(this),
                s = 0;
            c = 0, 1 == parseFloat(n.data("sale")) ? parseInt(n.val()) <= 9 ? s = parseFloat(n.data("unitprice")) : parseInt(n.val()) >= 10 && parseInt(n.val()) <= 29 ? s = parseFloat(n.data("unitprice10")) : parseInt(n.val()) >= 30 && (s = parseFloat(n.data("unitprice30"))) : s = parseFloat(n.data("unitprice")), t = parseFloat(n.data("unitid")), $(".amount_" + t).html(s), c = parseFloat(s * parseInt(n.val())), a += parseFloat(s * parseInt(n.val())), o += parseInt(n.val()), i[e] = { order_unit_id: parseInt(n.data("unitid")), qty: parseInt(n.val()), price: s }
        })), $("#product_subtotal_" + c).html(c + " UAH"), $(".total-sum").html(a.toFixed(2) + " UAH"), $("#checkoutSidebarTotal").html(a + " UAH"), $("#checkoutSidebarTotalCart").html(a + " UAH"), $("#checkoutSidebarQty").html(o), $.post("checkout/process/update", { data: i })
    },
    updateCheckoutTotalQtyCart: function(e, t) {
        var a = 0,
            o = 0,
            i = {};
        $("#FenixCart").find(".checkout-item-qty").each((function(e) {
            var t, n = $(this),
                s = 0;
            c = 0, 1 == parseFloat(n.data("sale")) ? parseInt(n.val()) <= 9 ? s = parseFloat(n.data("unitprice")) : parseInt(n.val()) >= 10 && parseInt(n.val()) <= 29 ? s = parseFloat(n.data("unitprice10")) : parseInt(n.val()) >= 30 && (s = parseFloat(n.data("unitprice30"))) : s = parseFloat(n.data("unitprice")), t = parseFloat(n.data("unitid")), $(".amountcart_" + t).html(s), c = parseFloat(s * parseInt(n.val())), a += parseFloat(s * parseInt(n.val())), o += parseInt(n.val()), i[e] = { order_unit_id: parseInt(n.data("unitid")), qty: parseInt(n.val()), price: s }
        })), $("#product_subtotal_" + c).html(c + " UAH"), $(".total-sum").html(a.toFixed(2) + " UAH"), $("#checkoutSidebarTotal").html(a + " UAH"), $("#checkoutSidebarTotalCart").html(a + " UAH"), $("#checkoutSidebarQty").html(o), $.post("checkout/process/update", { data: i });
        var n = parseInt($(".tr_product_" + t).find(".amountcart_" + t).html()) * parseInt($(".product-quantity").find("#qty_" + t).val());
        $(".product_subtotal_" + t).html(n.toFixed(2));
        var s = window.location.origin;
        a <= 0 && $(location).attr("href", s)
    },
    updateCartamount: function(e) {
        var t = parseInt($("#checkinfotb").find(".amountcart_" + e).html()) * parseInt($(".product-quantity").find(".fenixqty_" + e).val());
        $(".product_subtotal_" + e).html(t.toFixed(2))
    },
    updateCheckoutTotalBlock: function(e) {
        if (window.location.href.indexOf("/ua") > -1) var t = "/ua";
        else t = "";
        return $.ajax({ url: t + "/checkout/process", type: "POST", data: {} }), $.post(t + "/checkout/process", {}, (function(e) { $("#offcanvas-cart").html(e) })), !1
    },
    updateCheckoutTotalBlockCart: function(e) {
        if (window.location.href.indexOf("/ua") > -1) var t = "/ua";
        else t = "";
        return $.ajax({ url: t + "/checkout/process", type: "POST", data: {} }), $.post(t + "/checkout/process", {}, (function(e) { $("#FenixCart").html(e) })), !1
    },
    quickview: function(e) {
        if (window.location.href.indexOf("/ua") > -1) var t = "/ua";
        else t = "";
        return $.post(e + "?quick=ok", (function() { $.post(t + "/" + e + "?quick=ok", {}, (function(e) { $("#updateproductmodal").html(e) })) }))
    },
    close: function() {
        var e = $("body"),
            t = $(".offcanvas-cart"),
            a = $(".offcanvas-overlay");
        return e.removeClass("offcanvas-open"), t.removeClass("offcanvas-open"), a.fadeOut()
    },
    open: function() {
        var e = $("body"),
            t = $(".offcanvas-cart"),
            a = $(".offcanvas-overlay");
        return e.addClass("offcanvas-open"), t.addClass("offcanvas-open"), a.fadeIn()
    },
    notifyStockProduct: function(e) {
        return $("#stockNotifyDialog").dialog({
            width: 420,
            modal: !0,
            open: function() {
                $("#stockNotifyDialog").find("input[name=cellphone]").inputmask({ mask: "+38 (099) 999 99 99", clearMaskOnLostFocus: !1 }), jQuery.validator.addMethod("phone", (function(e, t) { return e = e.replace(/\s+/g, ""), this.optional(t) || e.length > 9 && e.match(/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/) }), "Введите номер телефона"), $("#stockNotifyDialog form").validate({
                    rules: { cellphone: { required: !0, phone: !0 }, email: { required: !0, email: !0 } },
                    ignore: "div:hidden input, div:hidden select",
                    messages: { cellphone: { required: "Введите номер телефона" }, email: "Введите корректный email" },
                    submitHandler: function(t) {
                        var a = ($(t), $("#stockNotifyDialog").find("input[name=email]").val()),
                            o = $("#stockNotifyDialog").find("input[name=cellphone]").val();
                        $.post("/catalog/notify/process", { pid: e, cellphone: o, email: a }, (function(e) { $("#stockNotifyContainer").html(e), setTimeout((function() { $("#stockNotifyDialog").dialog("close") }), 2e3) }))
                    }
                })
            }
        }), !1
    },
    error: function() { return !1 }
};
$("#open-bottom").click((function() { $(".seo-text").toggleClass("seo-text-opened") })), $("#open-bottom-filters").click((function() { $(".filters-block-bottom").toggleClass("open-fil") }));
const options = { keyboard: !0, size: "xl" };
document.querySelectorAll(".zoompro-gal").forEach((e => e.addEventListener("click", (t => {
        t.preventDefault();
        new Lightbox(e, options).show()
    })))), $((function() {
        $(".star-rating .ion-android-star").click((function() {
            var e = $(this).prevAll().length;
            $(".star-rating .ion-android-star").addClass("deactive");
            for (var t = 0; t <= e; t++) $(".star-rating .ion-android-star").eq(t).removeClass("deactive");
            $("#review-rate-value").val(e + 1)
        })), $(".star-rating .ion-android-star").hover((function() {
            var e = $(this).prevAll().length;
            $(".star-rating .ion-android-star").addClass("deactive");
            for (var t = 0; t <= e; t++) $(".star-rating .ion-android-star").eq(t).removeClass("deactive")
        }), (function() {
            var e = $("#review-rate-value").val() - 1;
            $(".star-rating .ion-android-star").addClass("deactive");
            for (var t = 0; t <= e; t++) $(".star-rating .ion-android-star").eq(t).removeClass("deactive")
        })), $(".star-rating .ion-android-star").eq($("#review-rate-value").val() - 1).trigger("click")
    })), $((function() {
        var e = $("#reviewsForm"),
            t = $(".h3ratting"),
            a = e.find(".btnsubmit");
        e.validate({ rules: { name: "required", review: "required" }, ignore: "div:hidden input", ignore: ".ignore", messages: { name: "Представьтесь пожалуйста", review: "Введите отзыв" }, submitHandler: function(a) { return $.ajax({ type: "POST", url: $(a).attr("action"), data: new FormData(a), contentType: !1, cache: !1, processData: !1, success: function(a) { t.empty(), e.empty().append("Ваш отзыв отправлен, и будет опубликован после модерации. Спасибо!") } }), !1 } }), a.click((function() { e.submit() }))
    })), $(".fast-order").click((function() { $(".nameblock").hide(500), $(".emailblock").hide(500), $(".deliveryblock").hide(500), $(".pickup").hide(500), $(".payblock").hide(500), $(".cardprivatblock").hide(500), $(".additional-info-wrap").hide(500) })), $(".order").click((function() { $(".nameblock").first().is(":hidden") && ($(".nameblock").slideDown("slow"), $(".emailblock").slideDown(500), $(".deliveryblock").slideDown(500), $(".pickup").slideDown(500), $(".payblock").slideDown(500), $(".cardprivatblock").slideDown(500), $(".additional-info-wrap").slideDown(500)) })), $((function() {
        $(".numbercard-btn").on("click", (function() {
            var e, t;
            e = "#numbercard", t = $("<input>"), $("body").append(t), t.val($(e).text()).select(), document.execCommand("copy"), t.remove(), $(".coupon-alert").fadeIn("slow")
        }))
    })),
    function(e, t, a, o) {
        e.fn.circleNav = function(t) {
            var a = e.extend({}, e.fn.circleNav.settings, t);
            return this.each((function() {
                var t = e(this),
                    o = e(".circle-nav-toggle"),
                    i = e(".circle-nav-panel"),
                    n = e(".circle-nav-menu");
                a.hasOverlay && 0 == e(".circle-nav-overlay").length && (e("body").append("<div class='circle-nav-overlay'></div>"), e(".circle-nav-overlay").css({ top: "0", right: "0", bottom: "0", left: "0", position: "fixed", "background-color": a.overlayColor, opacity: a.overlayOpacity, "z-index": "9", display: "none" })), e(".circle-nav-toggle, .circle-nav-item, .circle-nav-overlay").on("click", (function() { t.stop().toggleClass("circle-nav-open"), o.stop().toggleClass("circle-nav-open"), i.stop().toggleClass("circle-nav-open"), n.stop().toggleClass("circle-nav-open"), e(".circle-nav-overlay").fadeToggle(), e("body").css("overflow") ? e("body, html").css("overflow", "") : e("body, html").css("overflow", "hidden") }))
            }))
        }, e.fn.circleNav.settings = { hasOverlay: !0, overlayColor: "#343434", overlayOpacity: ".7" }
    }(jQuery, window, document), $((function() { $("#circle-nav-wrapper").circleNav() })), $((function() {
        jQuery.validator.addMethod("phone", (function(e, t) { return e = e.replace(/\s+/g, ""), this.optional(t) || e.length > 9 && e.match(/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/) }), "Введите номер телефона"), $("#callback").validate({
            rules: { firstname: "required", phone: { required: !0, phone: !0 } },
            ignore: "div:hidden input, div:hidden select",
            messages: { firstname: "Введите имя", phone: { required: "Введите номер телефона" } },
            submitHandler: function(e) {
                var t = $(e);
                t.ajaxSubmit({ url: t.attr("action"), type: "post", dataType: "json", success: function(e) { t.remove(".alert"), e.success_msg && (t.find('input[name="firstname"]').val(""), t.find('input[name="phone"]').val(""), t.find(".alert").remove(), t.prepend(e.success_msg)), e.error_msg && (t.find(".alert").remove(), t.prepend(e.error_msg)) } })
            }
        }), $("input[name=phone]").inputmask({ mask: "+38 (999) 999 99 99", clearMaskOnLostFocus: !1 })
    })), $(document).ready((function() {
        charset = "utf-8";
        var e = $("#search_box-result");
        $("#search").on("keyup", (function() { var t = $(this).val(); "" != t && t.length > 3 ? $.ajax({ type: "POST", url: "https://" + location.hostname + "/ajaxsearch?q=" + t, data: { q: t }, success: function(t) { e.html(t), "" != t ? e.fadeIn() : e.fadeOut(1e3) } }) : (e.html(""), e.fadeOut(1e3)) })), $(document).on("click", (function(t) { $(t.target).closest(".search_box").length || (e.html(""), e.fadeOut(1e3)) }))
    }));